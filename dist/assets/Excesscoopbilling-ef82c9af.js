import{k as he,c as I,_ as C,i as ge,r as d,a as F,b as W,d as nt,j as e,n as ot,o as it,l as Y,L as st,p as Oe}from"./index-9f53dfb6.js";import{P as at}from"./PageContainer-9b0e50b2.js";import{D as R,B as lt,H as ct}from"./Breadcrumb-a03eee32.js";import{a as z,c as L}from"./config-cf899eb3.js";import{e as k}from"./eventEmitter-d2c8b369.js";import{T as s}from"./Typography-ce8240ad.js";import{B as le}from"./Button-1cb9514b.js";import{I as Ge,D as T,a as dt,B as Ue,b as pt}from"./IconX-d1402acd.js";import{g as N,a as M,s as h,c as ut,b as E,B as j}from"./Box-5352c7b4.js";import{P as ue,G as n,u as re}from"./Grid-b755f9c1.js";import{h as U,X as xt}from"./index.es-8e9287b6.js";import{T as mt,a as ht,c as _,B as gt}from"./clsx.m-2c1ef962.js";import{T as ft,a as Q,b as Je,c as jt,d as yt}from"./TableRow-57b33d85.js";import"./apexcharts.common-74dc3464.js";import{A as Ke,I as bt,a as vt}from"./IconClock-f09b6440.js";import{S as ee,i as Ct}from"./ListContext-291d03b2.js";import{_ as St}from"./react-apexcharts.min-d1b128af.js";import{D as It,a as Tt,b as kt}from"./DialogTitle-4974eb93.js";import{L as Dt}from"./createReactComponent-b4845c0e.js";import{L as $t}from"./List-2cc2d37a.js";import"./Card-40a79f01.js";import"./ownerWindow-fbe9f185.js";import"./index-c25a140f.js";import"./Modal-fa771678.js";import"./useId-d5ca2989.js";function wt(t){return N("MuiLinearProgress",t)}M("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Rt=["className","color","value","valueBuffer","variant"];let H=t=>t,ze,Ye,_e,Ve,He,qe;const me=4,At=he(ze||(ze=H`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Bt=he(Ye||(Ye=H`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Ft=he(_e||(_e=H`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Wt=t=>{const{classes:r,variant:o,color:l}=t,p={root:["root",`color${I(l)}`,o],dashed:["dashed",`dashedColor${I(l)}`],bar1:["bar",`barColor${I(l)}`,(o==="indeterminate"||o==="query")&&"bar1Indeterminate",o==="determinate"&&"bar1Determinate",o==="buffer"&&"bar1Buffer"],bar2:["bar",o!=="buffer"&&`barColor${I(l)}`,o==="buffer"&&`color${I(l)}`,(o==="indeterminate"||o==="query")&&"bar2Indeterminate",o==="buffer"&&"bar2Buffer"]};return E(p,wt,r)},fe=(t,r)=>r==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${r}Bg`]:t.palette.mode==="light"?ot(t.palette[r].main,.62):it(t.palette[r].main,.5),Lt=h("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[`color${I(o.color)}`],r[o.variant]]}})(({ownerState:t,theme:r})=>C({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:fe(r,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),Nt=h("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.dashed,r[`dashedColor${I(o.color)}`]]}})(({ownerState:t,theme:r})=>{const o=fe(r,t.color);return C({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${o} 0%, ${o} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},ge(Ve||(Ve=H`
    animation: ${0} 3s infinite linear;
  `),Ft)),Mt=h("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.bar,r[`barColor${I(o.color)}`],(o.variant==="indeterminate"||o.variant==="query")&&r.bar1Indeterminate,o.variant==="determinate"&&r.bar1Determinate,o.variant==="buffer"&&r.bar1Buffer]}})(({ownerState:t,theme:r})=>C({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${me}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${me}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ge(He||(He=H`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),At)),Et=h("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.bar,r[`barColor${I(o.color)}`],(o.variant==="indeterminate"||o.variant==="query")&&r.bar2Indeterminate,o.variant==="buffer"&&r.bar2Buffer]}})(({ownerState:t,theme:r})=>C({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:fe(r,t.color),transition:`transform .${me}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ge(qe||(qe=H`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Bt)),Pt=d.forwardRef(function(r,o){const l=F({props:r,name:"MuiLinearProgress"}),{className:p,color:g="primary",value:c,valueBuffer:a,variant:i="indeterminate"}=l,m=W(l,Rt),x=C({},l,{color:g,variant:i}),f=Wt(x),b=nt(),u={},v={bar1:{},bar2:{}};if((i==="determinate"||i==="buffer")&&c!==void 0){u["aria-valuenow"]=Math.round(c),u["aria-valuemin"]=0,u["aria-valuemax"]=100;let y=c-100;b&&(y=-y),v.bar1.transform=`translateX(${y}%)`}if(i==="buffer"&&a!==void 0){let y=(a||0)-100;b&&(y=-y),v.bar2.transform=`translateX(${y}%)`}return e.jsxs(Lt,C({className:ut(f.root,p),ownerState:x,role:"progressbar"},u,{ref:o},m,{children:[i==="buffer"?e.jsx(Nt,{className:f.dashed,ownerState:x}):null,e.jsx(Mt,{className:f.bar1,ownerState:x,style:v.bar1}),i==="determinate"?null:e.jsx(Et,{className:f.bar2,ownerState:x,style:v.bar2})]}))}),Ot=Pt,Ut=()=>{const t=h(s)(({theme:c})=>({color:c.palette.secondary.main,fontSize:"16px"})),r=h(le)(({theme:c})=>({backgroundColor:c.palette.primary.contrast,border:"1px solid",borderColor:c.palette.primary.contrast,color:c.palette.primary.contrastText,fontSize:"12px",padding:"3px 8px",fontWeight:"600","&:hover":{backgroundColor:c.palette.primary.main,color:c.palette.primary.contrastText,borderColor:c.palette.primary.main}})),o=Y(),[l,p]=d.useState(null),g=L.UniUrl;return d.useEffect(()=>{const c=()=>{try{const i=sessionStorage.getItem("token"),m=sessionStorage.getItem("selectedVendorId");if(!i||!m)throw new Error("Token or vendorId not found in sessionStorage");const x=`${g}/overbilling/getTotalDisputed?vendorIds=${m}&disputeType=Coop`,f={headers:{Authorization:`Bearer ${i}`}};z.get(x,f).then(b=>{p(b.data.data.totalDisputed)}).catch(b=>{console.error("Error fetching total disputed amount:",b)})}catch(i){console.error("Error fetching total disputed amount:",i)}};c();const a=i=>{console.log("Vendor ID changed:",i),c()};return k.on("vendorSelected",a),()=>{k.events={}}},[]),e.jsxs(R,{title:e.jsx(s,{variant:"h5",sx:{color:o.palette.primary.light},children:"Disputed Amount"}),children:[e.jsxs(s,{variant:"h2",sx:{color:o.palette.primary.light},children:["$",l!==null?parseFloat(l).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"Loading..."]}),e.jsxs(t,{variant:"body1",marginTop:3,sx:{color:o.palette.text.dark},fontWeight:500,children:["View all raised disputes till date",e.jsxs(r,{component:st,to:"/manage-dispute",sx:{marginTop:"8px"},children:["View Details ",e.jsx(Ge,{size:"15"})]})]})]})};function Z(t){const{children:r,value:o,index:l,...p}=t;return e.jsx("div",{role:"tabpanel",hidden:o!==l,id:`vertical-tabpanel-${l}`,"aria-labelledby":`vertical-tab-${l}`,...p,children:o===l&&e.jsx(j,{sx:{px:3},children:e.jsx(s,{children:r})})})}Z.propTypes={children:ue.node,index:ue.number.isRequired,value:ue.number.isRequired};function ie(t){return{id:`vertical-tab-${t}`,"aria-controls":`vertical-tabpanel-${t}`}}const se=h(mt)(({theme:t})=>({color:t.palette.text.main,fontSize:"14px",alignItems:"start",padding:"5px 8px",fontWeight:"600",minHeight:"inherit",marginBottom:"5px",textAlign:"left",transition:"all 0.3s ease","&.Mui-selected, &:hover":{color:t.palette.accent.main}})),zt=()=>{var ve,Ce,Se,Ie,Te,ke,De,$e,we,Re,Ae,Be,Fe,We,Le,Ne,Me,Ee;const t=Y(),[r,o]=d.useState(0),[l,p]=d.useState(null),[g,c]=d.useState(!0),[a,i]=d.useState(null),m=L.UniUrl,[x,f]=d.useState(null),[b,u]=d.useState(!0),[v,y]=d.useState(null),[S,$]=d.useState(null),[P,ne]=d.useState(!0),[oe,A]=d.useState(null);d.useState(null),d.useState(!0),d.useState(null);const[D,je]=d.useState(null),[zr,ye]=d.useState(!0),[Yr,be]=d.useState(null);let V=sessionStorage.getItem("selectedVendorId");d.useEffect(()=>{const ce=sessionStorage.getItem("token");if(!ce){console.log("Token not found");return}const w=async(O,tt,Pe,rt)=>{try{const de={headers:{Authorization:`Bearer ${ce}`}},pe=await z.get(O,de);if(!pe.data||!pe.data.data)throw new Error("Failed to fetch data");tt(pe.data.data),Pe(!1)}catch(de){rt(de.message),Pe(!1)}},et=O=>{V=O,w(`${m}/overbilling/getSummaryByType?type=FRIEGHT_CHECK&vendorId=${O}`,f,u,y),w(`${m}/overbilling/getSummaryByType?type=DROPSHIP&vendorId=${O}`,$,ne,A),w(`${m}/overbilling/getSummaryByType?type=QTY_MISMATCH&vendorId=${O}`,je,ye,be),w(`${m}/overbilling/getSummaryByType?type=DUPLICATE_BILLING&vendorId=${O}`,p,c,i)};return k.on("vendorSelected",et),w(`${m}/overbilling/getSummaryByType?type=FRIEGHT_CHECK&vendorId=${V}`,f,u,y),w(`${m}/overbilling/getSummaryByType?type=DROPSHIP&vendorId=${V}`,$,ne,A),w(`${m}/overbilling/getSummaryByType?type=QTY_MISMATCH&vendorId=${V}`,je,ye,be),w(`${m}/overbilling/getSummaryByType?type=DUPLICATE_BILLING&vendorId=${V}`,p,c,i),()=>{k.events={}}},[]);const Ze=(ce,w)=>{o(w)};return e.jsx(R,{title:e.jsx(s,{variant:"h5",sx:{color:t.palette.text.dark},children:"Efficiency Assessment"}),children:e.jsxs(n,{container:!0,spacing:1,children:[e.jsx(n,{item:!0,md:6,children:e.jsxs(ht,{orientation:"vertical",value:r,onChange:Ze,className:"assesment-tab",sx:{borderColor:"#eee","& .MuiTabs-indicator":{backgroundColor:t.palette.accent.main,borderWidth:3,left:0}},children:[e.jsx(se,{label:"Shipment Disparity",...ie(0)}),e.jsx(se,{label:"Duplicate Freight",...ie(1)}),e.jsx(se,{label:"Non-Compliment Freight",...ie(2)}),e.jsx(se,{label:"Duplicate Billing",...ie(3)})]})}),e.jsxs(n,{item:!0,md:6,children:[e.jsxs(Z,{value:r,index:0,children:[g&&e.jsx(s,{children:"Loading..."}),a&&e.jsx(s,{children:a}),l&&e.jsx(n,{container:!0,spacing:3,children:e.jsxs(n,{item:!0,xs:12,children:[e.jsxs(s,{variant:"body2",style:{color:t.palette.text.dark,fontSize:"12px"},fontWeight:600,children:[D&&((ve=D[0])==null?void 0:ve.periodCoveredFrom)&&U(D[0].periodCoveredFrom).format("D-MMM-YYYY")," ","to"," ",D&&((Ce=D[0])==null?void 0:Ce.periodCoveredTo)&&U(D[0].periodCoveredTo).format("D-MMM-YYYY")]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.success.dark},fontWeight:600,children:"Agreements Scanned"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:D&&((Se=D[0])==null?void 0:Se.agreementScanned)||"N/A"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.accent.main},fontWeight:600,children:"CoOp Invoices Scanned"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:D&&((Ie=D[0])==null?void 0:Ie.invoiceScanned)||"N/A"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.primary.main},fontWeight:600,children:"PO's Scanned"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:D&&((Te=D[0])==null?void 0:Te.poScanned)||"N/A"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:1,children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.secondary.main},fontWeight:600,children:"Sum Identified"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:D&&`$${parseFloat(((ke=D[0])==null?void 0:ke.overbillIdentified)||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`||"N/A"})})]})]})})]}),e.jsxs(Z,{value:r,index:1,children:[b&&e.jsx(s,{children:"Loading..."}),v&&e.jsx(s,{children:v}),x&&e.jsx(n,{container:!0,spacing:3,children:e.jsxs(n,{item:!0,xs:12,children:[e.jsxs(s,{variant:"body2",style:{color:t.palette.text.dark,fontSize:"12px"},fontWeight:600,children:[((De=x[0])==null?void 0:De.periodCoveredFrom)&&U(x[0].periodCoveredFrom).format("D-MMM-YYYY")," ","to"," ",(($e=x[0])==null?void 0:$e.periodCoveredTo)&&U(x[0].periodCoveredTo).format("D-MMM-YYYY")]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.success.dark},fontWeight:600,children:"Agreements Scanned"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((we=x[0])==null?void 0:we.agreementScanned)||"N/A"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.accent.main},fontWeight:600,children:"CoOp Invoices Scanned"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((Re=x[0])==null?void 0:Re.invoiceScanned)||"N/A"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.primary.main},fontWeight:600,children:"PO's Scanned"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((Ae=x[0])==null?void 0:Ae.poScanned)||"N/A"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:1,children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.secondary.main},fontWeight:600,children:"Sum Identified"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:`$${parseFloat(((Be=x[0])==null?void 0:Be.overbillIdentified)||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`})})]})]})})]}),e.jsxs(Z,{value:r,index:2,children:[P&&e.jsx(s,{children:"Loading..."}),oe&&e.jsx(s,{children:oe}),S&&e.jsx(n,{container:!0,spacing:3,children:e.jsxs(n,{item:!0,xs:12,children:[e.jsxs(s,{variant:"body2",style:{color:t.palette.text.dark,fontSize:"12px"},fontWeight:600,children:[((Fe=S[0])==null?void 0:Fe.periodCoveredFrom)&&U(S[0].periodCoveredFrom).format("D-MMM-YYYY")," ","to"," ",((We=S[0])==null?void 0:We.periodCoveredTo)&&U(S[0].periodCoveredTo).format("D-MMM-YYYY")]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.success.dark},fontWeight:600,children:"Agreements Scanned"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((Le=S[0])==null?void 0:Le.agreementScanned)||"0"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.accent.main},fontWeight:600,children:"CoOp Invoices Scanned"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((Ne=S[0])==null?void 0:Ne.invoiceScanned)||"0"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.primary.main},fontWeight:600,children:"PO's Scanned"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:((Me=S[0])==null?void 0:Me.poScanned)||"0"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:1,children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.secondary.main},fontWeight:600,children:"Sum Identified"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:`$${parseFloat(((Ee=S[0])==null?void 0:Ee.overbillIdentified)||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`})})]})]})})]}),e.jsx(Z,{value:r,index:3,children:V==="5"?e.jsx(n,{container:!0,spacing:3,children:e.jsxs(n,{item:!0,xs:12,children:[e.jsxs(s,{variant:"body2",style:{color:t.palette.text.dark,fontSize:"12px"},fontWeight:600,children:[" ","1-Jan-2021 to 30-Sept-2023"]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.success.dark},fontWeight:600,children:"Duplicate/Overlapping Product Group"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:"Multiple"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:"3",children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.accent.main},fontWeight:600,children:"Duplicate/Overlapping Vendor Code"})}),e.jsx(n,{item:!0,xs:4,children:e.jsx(s,{variant:"body2",style:{textAlign:"right",fontWeight:"600"},children:"Multiple"})})]}),e.jsx(n,{item:!0,xs:12,my:2,children:e.jsx(T,{})}),e.jsxs(n,{container:!0,justifyContent:"space-between",spacing:1,children:[e.jsx(n,{item:!0,xs:8,children:e.jsx(s,{variant:"body2",sx:{color:t.palette.secondary.main},fontWeight:600,children:"Sum Identified"})}),e.jsx(n,{item:!0,xs:4,children:e.jsxs(s,{variant:"body2",style:{textAlign:"right",fontWeight:"590"},children:[" ","$1,090,011.64"]})})]})]})}):e.jsx(s,{children:"No data available"})})]})]})})},Yt=h(ft)(({theme:t})=>({backgroundColor:t.palette.primary.light})),ae=h(Q)(({theme:t})=>({color:"white",fontWeight:"600",fontSize:"12px"})),_t=h(Je)(({theme:t,index:r})=>({borderBottom:"1px solid #eee",backgroundColor:r%2===0?t.palette.secondary.contrastText:t.palette.primary.extraLight})),Vt=()=>{const t=re(),[r,o]=d.useState([]),l=L.UniUrl;d.useEffect(()=>{const a=async()=>{try{const m=sessionStorage.getItem("token"),x=sessionStorage.getItem("selectedVendorId");if(m&&x){const b=await(await fetch(`${l}/overbilling/getSummaryByVendorId/${x}`,{headers:{Authorization:`Bearer ${m}`}})).json();o(b.data)}else console.error("Token or vendorId not found in sessionStorage")}catch(m){console.error("Error fetching data:",m)}};a();const i=m=>{console.log("Vendor ID changed:",m),a()};return k.on("vendorSelected",i),()=>{k.off("vendorSelected",i)}},[]),d.useEffect(()=>{const a=p();sessionStorage.setItem("totalNetOff",a)},[r]);const p=()=>{let a=0;return r.forEach(i=>{a+=parseFloat(i.overbillIdentified)-(i.previousRefund!==null?parseFloat(i.previousRefund):0)}),a.toFixed(2)},c=(()=>{const a=["#1b5e20","#ed6c02","#281E5D","#FFAE42"];return r.map((i,m)=>{let x,f,b,u,v;switch(i.TYPE){case"QTY_MISMATCH":x="Shipment Disparity",f=i.overbillIdentified,v=a[0],b=i.previousRefund!==null?i.previousRefund:"0.00",u=parseFloat(i.overbillIdentified)-(i.previousRefund!==null?parseFloat(i.previousRefund):0);break;case"FRIEGHT_CHECK":x="Duplicate Freight",f=i.overbillIdentified,v=a[1],b=i.previousRefund!==null?i.previousRefund:"0.00",u=parseFloat(i.overbillIdentified)-(i.previousRefund!==null?parseFloat(i.previousRefund):0);break;case"DROPSHIP":x="Non-compliant Freight",f=i.overbillIdentified,v=a[2],b=i.previousRefund!==null?i.previousRefund:"0.00",u=parseFloat(i.overbillIdentified)-(i.previousRefund!==null?parseFloat(i.previousRefund):0);break;case"DUPLICATE_BILLING":x="Duplicate Billing",f=i.overbillIdentified,v=a[3],b=i.previousRefund!==null?i.previousRefund:"0.00",u=parseFloat(i.overbillIdentified)-(i.previousRefund!==null?parseFloat(i.previousRefund):0);break;default:x="",f="",v="",b="",u=""}return{Subtype:x,Findings$:f,PriorAdjustments$:b,NetOff:u,color:v}})})();return e.jsx(R,{title:e.jsx(s,{variant:"h5",sx:{color:t.palette.text.dark},children:"Granular Analysis"}),children:e.jsx(j,{sx:{overflow:"auto",width:{xs:"280px",sm:"auto"}},children:e.jsxs(jt,{"aria-label":"simple table",sx:{whiteSpace:"nowrap"},children:[e.jsx(Yt,{theme:t,children:e.jsxs(Je,{children:[e.jsx(ae,{variant:"subtitle2",fontWeight:600,children:"Sub-type"}),e.jsx(ae,{variant:"subtitle2",fontWeight:600,children:"Findings"}),e.jsx(ae,{variant:"subtitle2",fontWeight:600,children:"Prior Adjustments"}),e.jsx(ae,{variant:"subtitle2",fontWeight:600,children:"Net Off"})]})}),e.jsx(yt,{children:c.map((a,i)=>e.jsxs(_t,{index:i,theme:t,children:[e.jsx(Q,{index:i,style:{color:a.color},children:e.jsx(s,{style:{fontSize:"12px",fontWeight:"500"},variant:"tableData",children:a.Subtype})}),e.jsx(Q,{children:e.jsxs(s,{variant:"tableData",style:{fontSize:"12px"},children:["$",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a.Findings$)]})}),e.jsx(Q,{children:e.jsxs(s,{variant:"tableData",style:{fontSize:"12px"},children:["$",new Intl.NumberFormat().format(parseFloat(a.PriorAdjustments$).toFixed(2))]})}),e.jsxs(Q,{style:{display:"flex",alignItems:"center"},children:[e.jsx(s,{variant:"tableData",style:{fontSize:"12px"},children:"$"}),e.jsx(s,{variant:"tableData",style:{fontSize:"12px",marginLeft:"4px",whiteSpace:"nowrap"},children:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a.NetOff)})]})]},i))})]})})})},Ht=t=>{const{data:r}=t,[o,l]=d.useState([]),p=re(),g=h(Ke)(({theme:c})=>({backgroundColor:c.palette.primary.light,borderRadius:"7px",width:"32px",height:"32px","& svg":{color:c.palette.primary.contrastText,width:"22px",height:"22px",size:"12"}}));return d.useEffect(()=>{(async()=>{const a=await Promise.all(r.map(async i=>{switch(i.icon){case"IconClock":return vt;case"IconBriefcase":return bt;case"IconCurrencyDollar":return dt;default:return null}}));l(a)})()},[r]),e.jsx(j,{children:e.jsx(ee,{direction:"column",children:r.map((c,a)=>e.jsxs(Oe.Fragment,{children:[e.jsx(j,{children:e.jsxs(ee,{direction:"row",spacing:1,alignItems:"center",marginBottom:a!==r.length-1?2:0,sx:{marginLeft:"45px",marginTop:"5px"},children:[e.jsx(g,{style:{backgroundColor:c.avatarBackgroundColor||p.palette.success.main},children:o[a]&&Oe.createElement(o[a])}),e.jsx(j,{children:e.jsx(s,{variant:"body1",style:{color:p.palette.secondary.main},fontWeight:600,children:c.body})}),e.jsx(s,{variant:"body1",style:{color:c.numberColor||p.palette.success.extraDark},children:c.number})]})}),a!==r.length-1&&e.jsx(j,{mb:2})]},a))})})},qt=()=>{const t=Y();h(Ke)(({theme:u})=>({backgroundColor:u.palette.success.main,borderRadius:"6px",width:"30px",height:"30px","& svg":{color:"white",width:"18px",height:"18px"}})),h(j)(({theme:u})=>({marginTop:"-25px",marginBottom:"-25px"}));const[r,o]=d.useState(null),[l,p]=d.useState(""),[g,c]=d.useState(""),[a,i]=d.useState(""),[m,x]=d.useState(""),f=L.UniUrl;d.useEffect(()=>{const u=async()=>{try{const y=sessionStorage.getItem("token"),S=sessionStorage.getItem("selectedVendorId");if(!y||!S)throw new Error("Token or vendorId not found in sessionStorage");const $=`${f}/overbilling/getOverBillingRecoveryAmount?vendorId=${S}`,P={headers:{Authorization:`Bearer ${y}`}},ne=await z.get($,P);o(ne.data.data.recoveryAmount),z.get(`${f}/overbilling/getImpactOverview?vendorId=${S}&pageName=Overbilling`,{headers:{Authorization:`Bearer ${y}`}}).then(oe=>{const A=oe.data.data[0];A?(p(A.hoursSaved),c(A.resourceSaved),i(A.amountSaved),x(A.totalRecordsScanned)):(p("-"),c("-"),i("-"),x("-"))})}catch(y){console.error("Error fetching impact data:",y)}};u();const v=y=>{u()};return k.on("vendorSelected",v),()=>{k.events={}}},[]);const b=[{body:"Total Records Scanned",number:"27066",icon:"IconRecords",avatarBackgroundColor:"#AB47BC",numberColor:t.palette.success.extrDark},{body:"Hour Saved",number:"1288 hrs",icon:"IconClock",avatarBackgroundColor:t.palette.success.extrDark,numberColor:t.palette.success.extrDark},{body:"Amount Saved",number:"$ 36,828.50",icon:"IconCurrencyDollar",avatarBackgroundColor:t.palette.primary.light,numberColor:t.palette.success.extrDark},{body:"FTE Saved/Week",number:"31 FTE's",icon:"IconBriefcase",avatarBackgroundColor:t.palette.accent.main,numberColor:t.palette.success.extrDark}];return e.jsxs(R,{action:!0,children:[e.jsx(n,{container:!0,alignItems:"center",children:e.jsx(n,{item:!0,sm:15,py:2,children:e.jsx(s,{variant:"h3",sx:{color:t.palette.accent.main},marginBottom:3,marginLeft:6,children:"Impact Overview"})})}),e.jsx(j,{mt:4}),e.jsx(Ht,{data:b})]})};h(le)(({theme:t})=>({backgroundColor:t.palette.primary.contrast,border:"1px solid",borderColor:t.palette.primary.contrast,color:t.palette.primary.contrastText,fontSize:"12px",padding:"0",fontWeight:"600",transition:"all ease 0.3s","&:hover":{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText,borderColor:t.palette.primary.main},"& .btn-indicator":{width:"1px",backgroundColor:t.palette.primary.main,alignSelf:"stretch",marginLeft:"4px"}}));h(j)(({theme:t})=>({padding:"5px 12px",fontWeight:"600"}));const Gt=()=>{const t=re(),[r,o]=d.useState([]),[l,p]=d.useState(!0),g=L.UniUrl;d.useEffect(()=>{const a=async()=>{const i=sessionStorage.getItem("selectedVendorId");console.log("Selected Vendor ID:",i);try{const m=sessionStorage.getItem("token");let x=`${g}/overbilling/getOverBillingData`;i&&(x=`${g}/overbilling/getOverBillingDataByVendorId?vendorId=${i}`);const f=await z.get(x,{headers:{Authorization:`Bearer ${m}`}});o(f.data.data),p(!1)}catch(m){console.error("Error fetching job data:",m),p(!1)}};return a(),k.on("vendorSelected",i=>{console.log("Vendor ID changed:",i),a()}),()=>{k.events={}}},[]);const c=[{name:"Vendor Name",selector:a=>a.vendorName,sortable:!0},{name:"Date",selector:a=>a.createdDate,format:a=>U(a.createdDate).format("MM/DD/YY HH:mm"),sortable:!0},{name:"Type",selector:a=>a.requestType,sortable:!0,cell:(a,i,m,x)=>e.jsx(j,{children:e.jsx(s,{variant:"body1",fontWeight:"500",style:{textAlign:"left",color:t.palette.accent.main},children:a.requestType})})},{name:"Agreement Id / Disputed Id",selector:a=>a.requestId,sortable:!0},{name:"Pending Task",selector:a=>a.processStatus,sortable:!0,cell:(a,i,m,x)=>e.jsx(j,{children:e.jsx(s,{variant:"body1",fontWeight:"500",style:{padding:"8px 0"},children:a.processStatus})})},{name:"Progress",selector:a=>a.progress,cell:(a,i,m,x)=>e.jsxs(j,{style:{display:"flex",flexDirection:"column-reverse",width:"100%"},children:[e.jsx(Ot,{variant:"determinate",color:"success",value:a.progress,style:{color:"#eee",height:"10px",borderRadius:"4px"}}),e.jsxs(s,{variant:"body2",style:{textAlign:"right"},children:[parseFloat(a.progress).toFixed(2),"%"]})]}),sortable:!0}];return e.jsxs(R,{children:[e.jsxs(n,{container:!0,spacing:3,marginBottom:3,alignItems:"center",children:[e.jsx(n,{item:!0,children:e.jsx(s,{variant:"h5",children:"Jobs in Progress"})}),e.jsx(n,{item:!0})]}),e.jsx(j,{children:e.jsx(xt,{columns:c,data:r,pagination:!0})})]})},Jt=d.createContext({}),te=Jt;function Kt(t){return N("MuiTimeline",t)}M("MuiTimeline",["root","positionLeft","positionRight","positionAlternate"]);const Xt=["position","className"],Qt=t=>{const{position:r,classes:o}=t,l={root:["root",r&&`position${I(r)}`]};return E(l,Kt,o)},Zt=h("ul",{name:"MuiTimeline",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,o.position&&r[`position${I(o.position)}`]]}})({display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1}),er=d.forwardRef(function(r,o){const l=F({props:r,name:"MuiTimeline"}),{position:p="right",className:g}=l,c=W(l,Xt),a=C({},l,{position:p}),i=Qt(a),m=d.useMemo(()=>({position:p}),[p]);return e.jsx(te.Provider,{value:m,children:e.jsx(Zt,C({className:_(i.root,g),ownerState:a,ref:o},c))})}),tr=er;function rr(t){return N("MuiTimelineConnector",t)}M("MuiTimelineConnector",["root"]);const nr=["className"],or=t=>{const{classes:r}=t;return E({root:["root"]},rr,r)},ir=h("span",{name:"MuiTimelineConnector",slot:"Root",overridesResolver:(t,r)=>r.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.grey[400],flexGrow:1})),sr=d.forwardRef(function(r,o){const l=F({props:r,name:"MuiTimelineConnector"}),{className:p}=l,g=W(l,nr),c=l,a=or(c);return e.jsx(ir,C({className:_(a.root,p),ownerState:c,ref:o},g))}),xe=sr;function ar(t){return N("MuiTimelineContent",t)}const lr=M("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate"]),cr=lr,dr=["className"],pr=t=>{const{position:r,classes:o}=t,l={root:["root",`position${I(r)}`]};return E(l,ar,o)},ur=h(s,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[`position${I(o.position)}`]]}})(({ownerState:t})=>C({flex:1,padding:"6px 16px",textAlign:"left"},t.position==="left"&&{textAlign:"right"})),xr=d.forwardRef(function(r,o){const l=F({props:r,name:"MuiTimelineContent"}),{className:p}=l,g=W(l,dr),{position:c}=d.useContext(te),a=C({},l,{position:c||"right"}),i=pr(a);return e.jsx(ur,C({component:"div",className:_(i.root,p),ownerState:a,ref:o},g))}),q=xr;function mr(t){return N("MuiTimelineDot",t)}M("MuiTimelineDot",["root","filled","outlined","filledGrey","outlinedGrey","filledPrimary","outlinedPrimary","filledSecondary","outlinedSecondary"]);const hr=["className","color","variant"],gr=t=>{const{color:r,variant:o,classes:l}=t,p={root:["root",o,r!=="inherit"&&`${o}${I(r)}`]};return E(p,mr,l)},fr=h("span",{name:"MuiTimelineDot",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[o.color!=="inherit"&&`${o.variant}${I(o.color)}`],r[o.variant]]}})(({ownerState:t,theme:r})=>C({display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:(r.vars||r).shadows[1],margin:"11.5px 0"},t.variant==="filled"&&C({borderColor:"transparent"},t.color!=="inherit"&&C({},t.color==="grey"?{color:(r.vars||r).palette.grey[50],backgroundColor:(r.vars||r).palette.grey[400]}:{color:(r.vars||r).palette[t.color].contrastText,backgroundColor:(r.vars||r).palette[t.color].main})),t.variant==="outlined"&&C({boxShadow:"none",backgroundColor:"transparent"},t.color!=="inherit"&&C({},t.color==="grey"?{borderColor:(r.vars||r).palette.grey[400]}:{borderColor:(r.vars||r).palette[t.color].main})))),jr=d.forwardRef(function(r,o){const l=F({props:r,name:"MuiTimelineDot"}),{className:p,color:g="grey",variant:c="filled"}=l,a=W(l,hr),i=C({},l,{color:g,variant:c}),m=gr(i);return e.jsx(fr,C({className:_(m.root,p),ownerState:i,ref:o},a))}),G=jr;function yr(t){return N("MuiTimelineOppositeContent",t)}const br=M("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate"]),Xe=br,vr=["className"],Cr=t=>{const{position:r,classes:o}=t,l={root:["root",`position${I(r)}`]};return E(l,yr,o)},Sr=h(s,{name:"MuiTimelineOppositeContent",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[`position${I(o.position)}`]]}})(({ownerState:t})=>C({padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},t.position==="left"&&{textAlign:"left"})),Qe=d.forwardRef(function(r,o){const l=F({props:r,name:"MuiTimelineOppositeContent"}),{className:p}=l,g=W(l,vr),{position:c}=d.useContext(te),a=C({},l,{position:c||"left"}),i=Cr(a);return e.jsx(Sr,C({component:"div",className:_(i.root,p),ownerState:a,ref:o},g))});Qe.muiName="TimelineOppositeContent";const J=Qe;function Ir(t){return N("MuiTimelineItem",t)}M("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","missingOppositeContent"]);const Tr=["position","className"],kr=t=>{const{position:r,classes:o,hasOppositeContent:l}=t,p={root:["root",`position${I(r)}`,!l&&"missingOppositeContent"]};return E(p,Ir,o)},Dr=h("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[`position${I(o.position)}`]]}})(({ownerState:t})=>C({listStyle:"none",display:"flex",position:"relative",minHeight:70},t.position==="left"&&{flexDirection:"row-reverse"},t.position==="alternate"&&{"&:nth-of-type(even)":{flexDirection:"row-reverse",[`& .${cr.root}`]:{textAlign:"right"},[`& .${Xe.root}`]:{textAlign:"left"}}},!t.hasOppositeContent&&{"&:before":{content:'""',flex:1,padding:"6px 16px"}})),$r=d.forwardRef(function(r,o){const l=F({props:r,name:"MuiTimelineItem"}),{position:p,className:g}=l,c=W(l,Tr),{position:a}=d.useContext(te);let i=!1;d.Children.forEach(l.children,b=>{Ct(b,["TimelineOppositeContent"])&&(i=!0)});const m=C({},l,{position:p||a||"right",hasOppositeContent:i}),x=kr(m),f=d.useMemo(()=>({position:m.position}),[m.position]);return e.jsx(te.Provider,{value:f,children:e.jsx(Dr,C({className:_(x.root,g),ownerState:m,ref:o},c))})}),K=$r;function wr(t){return N("MuiTimelineSeparator",t)}M("MuiTimelineSeparator",["root"]);const Rr=["className"],Ar=t=>{const{classes:r}=t;return E({root:["root"]},wr,r)},Br=h("div",{name:"MuiTimelineSeparator",slot:"Root",overridesResolver:(t,r)=>r.root})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),Fr=d.forwardRef(function(r,o){const l=F({props:r,name:"MuiTimelineSeparator"}),{className:p}=l,g=W(l,Rr),c=l,a=Ar(c);return e.jsx(Br,C({className:_(a.root,p),ownerState:c,ref:o},g))}),X=Fr,Wr=()=>{d.useState("1");const t=Y();h(s)(({theme:o})=>({color:o.palette.primary.main,position:"relative",marginBottom:"5px","&::before":{content:'""',position:"absolute",display:"inline-block",width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o.palette.accent.main,marginRight:"8px",bottom:"7px",left:"-25px"}})),h(n)(({theme:o})=>({marginLeft:"26px",marginTop:"10px"})),h(s)(({theme:o})=>({color:o.palette.text.dark}));const r=h(Ue)(({theme:o})=>({minHeight:"300px",overflowY:"auto"}));return h(n)(({theme:o})=>({minHeight:"300px",height:"300px",overflow:"hidden"})),e.jsxs(Ue,{className:"transcaction",children:[e.jsx(s,{variant:"h5",sx:{color:t.palette.text.dark},children:"Hits & Misses"}),e.jsx(r,{style:{overflow:"auto",height:"270px"},children:e.jsxs(tr,{className:"theme-timeline",nonce:void 0,onResize:void 0,onResizeCapture:void 0,sx:{p:0,mb:"-40px","& .MuiTimelineConnector-root":{width:"1px",backgroundColor:"#efefef"},[`& .${Xe.root}`]:{flex:.4,paddingLeft:0,fontSize:"12px",fontWeight:"600",color:t.palette.primary.main}},children:[e.jsxs(K,{children:[e.jsx(J,{style:{padding:"6px 8px"},children:"11/14/24"}),e.jsxs(X,{children:[e.jsx(G,{color:"success",variant:"outlined"}),e.jsx(xe,{})]}),e.jsx(q,{style:{padding:"6px 8px"},children:e.jsx(s,{fontWeight:"400",fontSize:"12px",children:"Successfully recovered in Batch 1 $ 20,000"})})]}),e.jsxs(K,{children:[e.jsx(J,{style:{padding:"6px 8px"},children:"11/13/24"}),e.jsxs(X,{children:[e.jsx(G,{color:"accent",variant:"outlined"}),e.jsx(xe,{})]}),e.jsxs(q,{style:{padding:"6px 8px"},children:[e.jsx(s,{fontWeight:"400",fontSize:"12px",children:"Awaiting to hear from Amazon on Batch 2"})," "]})]}),e.jsxs(K,{children:[e.jsx(J,{style:{padding:"6px 8px"},children:"11/11/24"}),e.jsxs(X,{children:[e.jsx(G,{color:"primary",variant:"outlined"}),e.jsx(xe,{})]}),e.jsx(q,{style:{padding:"6px 8px"},children:e.jsx(s,{fontWeight:"400",fontSize:"12px",children:"Amazon hosts over 100 categories of overbillings, chargebacks, and deductions"})})]}),e.jsxs(K,{children:[e.jsx(J,{style:{padding:"6px 8px"},children:"11/10/24"}),e.jsx(X,{children:e.jsx(G,{color:"success",variant:"outlined"})}),e.jsx(q,{style:{padding:"6px 8px"},children:e.jsx(s,{fontWeight:"400",fontSize:"12px",children:"Over 22 reports are required to untangle these disputes"})})]}),e.jsxs(K,{children:[e.jsx(J,{style:{padding:"6px 8px"},children:"11/10/24"}),e.jsx(X,{children:e.jsx(G,{color:"success",variant:"outlined"})}),e.jsx(q,{style:{padding:"6px 8px"},children:e.jsx(s,{fontWeight:"400",fontSize:"12px",children:"About 5% of Amazon sales are lost due to uncollected revenue, chargebacks, and accounting errors"})})]})]})})]})},Lr="/assets/piggy-bank-b6eb6cbb.gif",Nr=()=>{const t=h(s)(({theme:c})=>({color:c.palette.secondary.main})),r=re();r.palette.success.main,r.palette.success.extraDark;const o=h(j)(({theme:c})=>({marginTop:"-25px",marginBottom:"-25px"}));r.palette.mode;const[l,p]=d.useState(0),g=L.UniUrl;return d.useEffect(()=>{const c=async()=>{try{const i=sessionStorage.getItem("token"),m=sessionStorage.getItem("selectedVendorId");if(!i||!m)throw new Error("Token or vendorId not found in sessionStorage");const x=`${g}/overbilling/getOverBillingRecoveryAmount?vendorId=${m}`,f={headers:{Authorization:`Bearer ${i}`}},b=await z.get(x,f);p(b.data.data.recoveryAmount)}catch(i){console.error("Error fetching recouped amount:",i)}};c();const a=i=>{console.log("Vendor ID changed:",i),c()};return k.on("vendorSelected",a),()=>{k.events={}}},[]),e.jsx(R,{title:e.jsx(t,{variant:"h5",sx:{color:r.palette.success.extraDark},children:"Recouped Amount"}),footer:e.jsxs(j,{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",width:"100%",height:"100%",children:[e.jsxs(n,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(n,{item:!0,sm:8,py:2,sx:{marginLeft:"25px"},children:e.jsx(s,{variant:"h2",sx:{color:r.palette.accent.main},marginBottom:-3,marginTop:7,children:"Win Rate"})}),e.jsx(n,{item:!0,sm:12,py:4,sx:{display:"flex",justifyContent:"flex-end",marginTop:"-50px"},children:e.jsx(o,{children:e.jsx(gt,{color:r.palette.accent.main,percentage:85.25,chartWidth:"100",chartHeight:"130",chartLabelFontSize:"15px"})})})]}),e.jsx("img",{src:Lr,alt:"piggy",style:{position:"absolute",right:"20px",top:"-130px",maxWidth:"130px",maxHeight:"130px"}})]}),children:e.jsxs(t,{variant:"h2",sx:{color:r.palette.success.extraDark},children:["$ ",new Intl.NumberFormat().format(l)]})})},Mr=()=>{const t=re(),r=h(j)(({theme:g})=>({height:"5px",display:"flex",alignItems:"center",gap:"5px",position:"relative"})),o=h(j)(({theme:g})=>({width:"65%",height:"100%",borderRadius:"7px"})),l=h(j)(({theme:g})=>({width:"35%",height:"100%",borderRadius:"7px"})),p=h(j)(({theme:g})=>({width:"42px",height:"22px",textAlign:"center",borderRadius:"7px",position:"absolute",right:"-20px",bottom:"15px",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",span:{content:'""',position:"absolute",bottom:"-3px",border:"3px solid",transform:"rotate(45deg)",right:"calc(50% - 3px)"}}));return e.jsxs(R,{title:e.jsx(s,{variant:"h4",mb:2,children:"Win Rate"}),children:[e.jsxs(n,{container:!0,style:{borderBottom:"1px solid",borderColor:t.palette.divider},pb:3,children:[e.jsx(n,{item:!0,xs:12,mb:3,children:e.jsxs(n,{container:!0,alignItems:"center",children:[e.jsx(n,{item:!0,sm:4,children:e.jsx(s,{variant:"h6",sx:{fontWeight:400,color:t.palette.success.extraDark},children:"Duplicate Billing"})}),e.jsx(n,{item:!0,sm:8,px:1,children:e.jsx(j,{style:{width:"calc(100% - 45px)"},mx:"auto",children:e.jsxs(r,{width:"77.66%",children:[e.jsx(o,{style:{backgroundColor:t.palette.success.light}}),e.jsx(l,{style:{backgroundColor:t.palette.success.main}}),e.jsxs(p,{style:{backgroundColor:t.palette.success.main},children:["77.66% ",e.jsx(j,{component:"span",style:{borderColor:t.palette.success.main}})]})]})})})]})}),e.jsx(n,{item:!0,xs:12,mb:3,children:e.jsxs(n,{container:!0,alignItems:"center",children:[e.jsx(n,{item:!0,sm:4,children:e.jsx(s,{variant:"h6",sx:{fontWeight:400,color:t.palette.accent.main},children:"Shipment Disparity"})}),e.jsx(n,{item:!0,sm:8,children:e.jsx(j,{style:{width:"calc(100% - 45px)"},mx:"auto",children:e.jsxs(r,{width:"98.27%",children:[e.jsx(o,{style:{backgroundColor:t.palette.accent.light}}),e.jsx(l,{style:{backgroundColor:t.palette.accent.main}}),e.jsxs(p,{style:{backgroundColor:t.palette.accent.main},children:["98.27% ",e.jsx(j,{component:"span",style:{borderColor:t.palette.accent.main}})]})]})})})]})}),e.jsx(n,{item:!0,xs:12,mb:3,children:e.jsxs(n,{container:!0,alignItems:"center",children:[e.jsx(n,{item:!0,sm:4,children:e.jsx(s,{variant:"h6",sx:{fontWeight:400,color:t.palette.primary.main},children:"Duplicate Freight"})}),e.jsx(n,{item:!0,sm:8,children:e.jsx(j,{style:{width:"calc(100% - 45px)"},mx:"auto",children:e.jsxs(r,{width:"100%",children:[e.jsx(o,{style:{backgroundColor:t.palette.primary.extraLight}}),e.jsx(l,{style:{backgroundColor:t.palette.primary.main}}),e.jsxs(p,{style:{backgroundColor:t.palette.primary.main},children:["100% ",e.jsx(j,{component:"span",style:{borderColor:t.palette.primary.main}})]})]})})})]})}),e.jsx(n,{item:!0,xs:12,children:e.jsxs(n,{container:!0,alignItems:"center",children:[e.jsx(n,{item:!0,sm:4,children:e.jsx(s,{variant:"h6",sx:{fontWeight:400,color:t.palette.warning.main},children:"Non-compliant Freight"})}),e.jsx(n,{item:!0,sm:8,children:e.jsx(j,{style:{width:"calc(100% - 45px)"},mx:"auto",children:e.jsxs(r,{width:"98.27%",children:[e.jsx(o,{style:{backgroundColor:t.palette.warning.light}}),e.jsx(l,{style:{backgroundColor:t.palette.warning.main}}),e.jsxs(p,{style:{backgroundColor:t.palette.warning.main},children:["100%",e.jsx(j,{component:"span",style:{borderColor:t.palette.warning.main}})]})]})})})]})})]}),e.jsxs(n,{container:!0,pt:2,children:[e.jsx(n,{item:!0,xs:4}),e.jsx(n,{item:!0,xs:8,children:e.jsxs(n,{container:!0,textAlign:"center",children:[e.jsx(n,{item:!0,xs:2,children:e.jsx(s,{variant:"body2",style:{fontWeight:600},children:"0%"})}),e.jsx(n,{item:!0,xs:2,children:e.jsx(s,{variant:"body2",style:{fontWeight:600},children:"20%"})}),e.jsx(n,{item:!0,xs:2,children:e.jsx(s,{variant:"body2",style:{fontWeight:600},children:"40%"})}),e.jsx(n,{item:!0,xs:2,children:e.jsx(s,{variant:"body2",style:{fontWeight:600},children:"60%"})}),e.jsx(n,{item:!0,xs:2,children:e.jsx(s,{variant:"body2",style:{fontWeight:600},children:"80%"})}),e.jsx(n,{item:!0,xs:2,children:e.jsx(s,{variant:"body2",style:{fontWeight:600},children:"100%"})})]})})]})]})},Er=()=>{const t=h(le)(({theme:u})=>({backgroundColor:u.palette.primary.extraLight,border:"1px solid",borderColor:u.palette.primary.light,color:u.palette.primary.main,fontSize:"12px",padding:"3px 8px",fontWeight:"600","&:hover":{backgroundColor:u.palette.primary.main,color:"white"}})),r=h(le)(({theme:u})=>({minWidth:"30px",height:"30px",backgroundColor:"red",color:"white",right:"15px",top:"15px","&:hover":{backgroundColor:u.palette.secondary.main,color:"white"}})),o=h(ee)(({theme:u,index:v})=>({backgroundColor:v%2===0?u.palette.primary.extraLight:u.palette.secondary.extraLight,padding:u.spacing(2)})),l=h(s)(({theme:u})=>({color:u.palette.secondary.main})),p=Y(),[g,c]=d.useState(!1),[a,i]=d.useState({}),m=L.UniUrl;d.useEffect(()=>{const u=async()=>{const y=sessionStorage.getItem("token"),S=sessionStorage.getItem("selectedVendorId");if(!y||!S){console.error("Token or vendorId not found in sessionStorage");return}try{const P=(await z.get(`${m}/shortage/getYoyFinding3?vendorId=${S}&pageName=Overbilling`,{headers:{Authorization:`Bearer ${y}`}})).data;P.status==="SUCCESS"?i(P.data):console.error("Error fetching data:",P.errorMessage)}catch($){console.error("Error fetching data:",$)}};u();const v=y=>{console.log("Vendor ID changed:",y),u()};return k.on("vendorSelected",v),()=>{k.off("vendorSelected",v)}},[]);const x=()=>{c(!0)},f=()=>{c(!1)},b=()=>{const u=Object.keys(a),v=u.sort((S,$)=>parseInt($)-parseInt(S));let y=[];for(let S=0;S<v.length;S++)u.includes((parseInt(v[S])-1).toString())&&y.length<3&&y.push(v[S]);return y};return e.jsxs(R,{title:e.jsx(s,{variant:"h4",children:"Yearly Trends"}),action:e.jsxs(t,{onClick:x,children:["View Details ",e.jsx(Ge,{size:"16"})]}),children:[e.jsx(l,{variant:"h6",children:b()[0]}),e.jsxs(s,{variant:"h2",sx:{color:p.palette.primary.main},children:["$",new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(a[b()[0]]||0))]}),e.jsx(j,{my:1,children:e.jsx(T,{})}),e.jsx(n,{container:!0,spacing:3,children:b().slice(1).map(u=>e.jsxs(n,{item:!0,sm:6,children:[e.jsx(l,{variant:"h6",mb:1,children:u}),e.jsx(s,{variant:"h6",children:e.jsxs("b",{children:["$",new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(a[u]||0))]})})]},u))}),e.jsxs(It,{open:g,onClose:f,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(ee,{direction:"row",justifyContent:"space-between",children:[e.jsx(Tt,{variant:"h3",children:"YOY Split"}),e.jsx(r,{children:e.jsx(pt,{onClick:f,size:"16"})})]}),e.jsx(kt,{children:e.jsx(n,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:e.jsx(n,{item:!0,xs:12,alignItems:"center",justifyContent:"center",children:Object.keys(a).reverse().map(u=>e.jsxs(o,{direction:"row",index:parseInt(u),spacing:4,justifyContent:"space-between",children:[e.jsx(l,{variant:"h6",children:u}),e.jsxs(s,{variant:"h6",children:["$",new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(a[u]||0))]})]},u))})})})]})]})},Pr=h(s)(({theme:t})=>({color:t.palette.primary.main,borderBottom:"1px solid",borderColor:"#ccc",paddingBottom:"10px"})),Or=h(j)(({theme:t})=>({border:"1px solid",borderColor:t.palette.primary.main,borderRadius:"7px",padding:"10px 20px"})),B=h(Dt)(({theme:t})=>({borderBottom:"2px solid",borderColor:"#ccc",padding:"5px 0",color:t.palette.primary.main,fontWeight:"600"})),Ur=()=>{const t=Y();return e.jsxs(Or,{className:"actual-updates",height:"330px",style:{overflow:"hidden"},children:[e.jsx(Pr,{variant:"h5",sx:{color:t.palette.accent.main},children:"Updates"}),e.jsx("marquee",{direction:"up",scrollamount:"3",height:"100%",children:e.jsxs($t,{children:[e.jsx(B,{children:"Successfully recovered in Batch 1 $ 20,000"}),e.jsx(B,{children:"Amazon hosts over 100 categories of overbillings, chargebacks, and deductions"}),e.jsx(B,{children:"Successfully recovered in Batch 1 $ 20,000"}),e.jsx(B,{children:"Awaiting to hear from Amazon on Batch 2"}),e.jsx(B,{children:"Amazon hosts over 100 categories of overbillings, chargebacks, and deductions"}),e.jsx(B,{children:"Successfully recovered in Batch 1 $ 20,000"}),e.jsx(B,{children:"Awaiting to hear from Amazon on Batch 2"}),e.jsx(B,{children:"Amazon hosts over 100 categories of overbillings, chargebacks, and deductions"})]})})]})},gn=()=>{const t=h(s)(({theme:i})=>({color:i.palette.primary.main})),r=Y(),[o,l]=d.useState(null),p=L.UniUrl,g=r.palette.success.main;r.palette.success.exrtaDark;const c={chart:{type:"area",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",stacked:!0,toolbar:{show:!1},height:60,sparkline:{enabled:!0},group:"sparklines"},stroke:{curve:"smooth",width:5},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityTo:.2,stops:[50,90,100]}},marker:{show:!1},tooltip:{enabled:!1,theme:r.palette.mode==="dark"?"dark":"light"}},a=[{name:"",color:g,data:[25,66,20,40,12,58,20]}];return d.useEffect(()=>{const i=async()=>{try{const x=sessionStorage.getItem("token"),f=sessionStorage.getItem("selectedVendorId");if(x&&f){const u=await(await fetch(`${p}/overbilling/getSummaryByVendorId/${f}`,{headers:{Authorization:`Bearer ${x}`}})).json();let v=0,y=0;u.data.forEach($=>{v+=parseFloat($.overbillIdentified),y+=$.previousRefund!==null?parseFloat($.previousRefund):0});const S=(v-y).toFixed(2);l(S)}else console.error("Token or vendorId not found in sessionStorage")}catch(x){console.error("Error fetching data:",x)}};i();const m=x=>{console.log("Vendor ID changed:",x),i()};return k.on("vendorSelected",m),()=>{k.off("vendorSelected",m)}},[]),e.jsx(at,{title:"Excess Coop Billing",children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{item:!0,xs:12,children:e.jsx(lt,{titles:["Excess Coop Billing"]})}),e.jsx(n,{item:!0,xs:12,children:e.jsx(ct,{title:"Excess Coop Billing"})}),e.jsxs(n,{item:!0,xs:12,lg:8,children:[e.jsxs(n,{container:!0,spacing:2,marginBottom:2,children:[e.jsx(n,{item:!0,xs:12,lg:6,children:e.jsx(j,{style:{position:"relative",height:"100%"},children:e.jsx(R,{title:e.jsx(t,{variant:"h5",sx:{color:r.palette.accent.main},children:"Finding Amount"}),children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{item:!0,children:e.jsxs(t,{variant:"h2",sx:{color:r.palette.accent.main},children:["$",new Intl.NumberFormat().format(o)]})}),e.jsx(n,{item:!0,children:e.jsx(St,{options:c,series:a,type:"area",style:{position:"absolute",right:"25px",bottom:"30px",maxWidth:"180px",top:"112px"},className:"static-chart"})})]})})})}),e.jsx(n,{item:!0,xs:12,lg:6,children:e.jsx(Er,{})})]}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{item:!0,xs:12,lg:6,children:e.jsx(Ut,{})}),e.jsx(n,{item:!0,xs:12,lg:6,children:e.jsx(Nr,{})})]})]}),e.jsx(n,{item:!0,xs:12,lg:4,style:{position:"relative"},children:e.jsx(qt,{})}),e.jsx(n,{item:!0,xs:12,lg:6,children:e.jsx(Vt,{})}),e.jsx(n,{item:!0,xs:12,lg:6,children:e.jsx(Mr,{})}),e.jsx(n,{item:!0,xs:12,lg:6,children:e.jsx(zt,{})}),e.jsx(n,{item:!0,xs:12,lg:6,children:e.jsx(R,{children:e.jsxs(ee,{direction:"row",spacing:1,children:[e.jsx(Wr,{}),e.jsx(Ur,{})]})})}),e.jsx(n,{item:!0,xs:12,children:e.jsx(Gt,{})})]})})};export{gn as default};
