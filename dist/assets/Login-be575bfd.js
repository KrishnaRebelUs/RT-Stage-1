import{c as B,_ as h,r as w,a as N,b as D,j as e,l as J,y as K,L as M}from"./index-9f53dfb6.js";import{P as O}from"./PageContainer-9b0e50b2.js";import{L as Q}from"./Logo-051b667f.js";import{b as V}from"./login-image-998fc7cd.js";import{a as X,c as Y}from"./config-cf899eb3.js";import{T as c}from"./Typography-ce8240ad.js";import{S as L}from"./ListContext-291d03b2.js";import{a as U,g as q,s as x,c as $,b as E,B as u}from"./Box-5352c7b4.js";import{T as G}from"./TextField-b3193f7b.js";import{u as _,f as A}from"./Input-16d10a5a.js";import{C as Z}from"./Checkbox-dad75972.js";import{B as ee}from"./Button-1cb9514b.js";import{G as C}from"./Grid-b755f9c1.js";import{C as re}from"./Card-40a79f01.js";import"./useId-d5ca2989.js";import"./Menu-d0977e7e.js";import"./Modal-fa771678.js";import"./ownerWindow-fbe9f185.js";import"./List-2cc2d37a.js";function oe(r){return q("MuiFormControlLabel",r)}const te=U("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),v=te,se=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],ne=r=>{const{classes:o,disabled:t,labelPlacement:s,error:a,required:n}=r,l={root:["root",t&&"disabled",`labelPlacement${B(s)}`,a&&"error",n&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",a&&"error"]};return E(l,oe,o)},ae=x("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:t}=r;return[{[`& .${v.label}`]:o.label},o.root,o[`labelPlacement${B(t.labelPlacement)}`]]}})(({theme:r,ownerState:o})=>h({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${v.disabled}`]:{cursor:"default"}},o.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},o.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},o.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${v.label}`]:{[`&.${v.disabled}`]:{color:(r.vars||r).palette.text.disabled}}})),le=x("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(r,o)=>o.asterisk})(({theme:r})=>({[`&.${v.error}`]:{color:(r.vars||r).palette.error.main}})),ie=w.forwardRef(function(o,t){var s,a;const n=N({props:o,name:"MuiFormControlLabel"}),{className:l,componentsProps:f={},control:i,disabled:m,disableTypography:b,label:d,labelPlacement:y="end",required:p,slotProps:j={}}=n,z=D(n,se),F=_(),I=(s=m??i.props.disabled)!=null?s:F==null?void 0:F.disabled,S=p??i.props.required,W={disabled:I,required:S};["checked","name","onChange","value","inputRef"].forEach(P=>{typeof i.props[P]>"u"&&typeof n[P]<"u"&&(W[P]=n[P])});const H=A({props:n,muiFormControl:F,states:["error"]}),k=h({},n,{disabled:I,labelPlacement:y,required:S,error:H.error}),T=ne(k),R=(a=j.typography)!=null?a:f.typography;let g=d;return g!=null&&g.type!==c&&!b&&(g=e.jsx(c,h({component:"span"},R,{className:$(T.label,R==null?void 0:R.className),children:g}))),e.jsxs(ae,h({className:$(T.root,l),ownerState:k,ref:t},z,{children:[w.cloneElement(i,W),S?e.jsxs(L,{display:"block",children:[g,e.jsxs(le,{ownerState:k,"aria-hidden":!0,className:T.asterisk,children:["â€‰","*"]})]}):g]}))}),ce=ie;function me(r){return q("MuiFormGroup",r)}U("MuiFormGroup",["root","row","error"]);const de=["className","row"],pe=r=>{const{classes:o,row:t,error:s}=r;return E({root:["root",t&&"row",s&&"error"]},me,o)},ue=x("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:t}=r;return[o.root,t.row&&o.row]}})(({ownerState:r})=>h({display:"flex",flexDirection:"column",flexWrap:"wrap"},r.row&&{flexDirection:"row"})),he=w.forwardRef(function(o,t){const s=N({props:o,name:"MuiFormGroup"}),{className:a,row:n=!1}=s,l=D(s,de),f=_(),i=A({props:s,muiFormControl:f,states:["error"]}),m=h({},s,{row:n,error:i.error}),b=pe(m);return e.jsx(ue,h({className:$(b.root,a),ownerState:m,ref:t},l))}),ge=he,xe=x(c)(({theme:r})=>({color:r.palette.text.dark,fontWeight:"500",textDecoration:"none"})),fe=({title:r,subtext:o})=>{const t=J(),[s,a]=w.useState(!1),[n,l]=w.useState(null),f=K(),i=Y.UniUrl,m=async(d,y)=>{a(!0),l(null);try{const p=await X.post(`${i}/auth/login`,{username:d,password:y}),{jwtToken:j}=p.data;sessionStorage.setItem("token",j),console.log("Token Received",j),j?f("/excess-coop-billing"):l("Invalid credentials. Please try again.")}catch{l("Login failed. Please try again.")}finally{a(!1)}},b=d=>{d.preventDefault();const y=d.target.email.value,p=d.target.password.value;m(y,p)};return e.jsxs(e.Fragment,{children:[r&&e.jsx(c,{fontWeight:"700",variant:"h2",mb:1,children:r}),o,e.jsxs("form",{onSubmit:b,children:[e.jsxs(L,{spacing:2,children:[e.jsx(u,{paddingBottom:2,children:e.jsx(G,{id:"email",name:"email",variant:"outlined",placeholder:"Enter your email here",fullWidth:!0})}),e.jsx(u,{children:e.jsx(G,{id:"password",name:"password",type:"password",variant:"outlined",placeholder:"Enter your password here",fullWidth:!0})}),e.jsxs(L,{justifyContent:"space-between",direction:"row",alignItems:"center",my:2,children:[e.jsx(ge,{children:e.jsx(ce,{control:e.jsx(Z,{defaultChecked:!0,color:"primary"}),label:"Remember this Device"})}),e.jsx(xe,{component:M,to:"/forgot-password",children:"Forgot Password?"})]})]}),e.jsx(u,{marginTop:1,children:e.jsx(ee,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",disabled:s,sx:{"&:hover":{backgroundColor:t.palette.primary.main}},children:s?"Signing In...":"Sign In"})}),n&&e.jsx(c,{color:"error",variant:"body2",mt:1,children:n})]})]})},De=()=>{const r=x(c)(({theme:t})=>({color:t.palette.secondary.main})),o=x(c)(({theme:t})=>({color:t.palette.text.dark,marginBottom:"25px",fontWeight:"500",fontSize:"16px"}));return e.jsx(O,{title:"Login",description:"This is the Login page",children:e.jsx(u,{sx:{position:"relative",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(C,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",sx:{height:"100%"},children:e.jsx(C,{item:!0,xs:12,display:"flex",justifyContent:"center",alignItems:"center",children:e.jsx(re,{elevation:9,sx:{width:"100%",maxWidth:"1000px"},children:e.jsxs(C,{container:!0,spacing:0,alignItems:"center",justifyContent:"center",children:[e.jsx(C,{item:!0,xs:6,children:e.jsx(u,{sx:{width:"100%",height:"100%",overflow:"hidden"},children:e.jsx("img",{src:V,alt:"Background",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),e.jsx(C,{item:!0,xs:6,pt:0,children:e.jsxs(u,{sx:{p:4,width:"100%",height:"100%"},style:{padding:"0 50px"},children:[e.jsx(u,{display:"flex",alignItems:"center",justifyContent:"center",mb:2,children:e.jsx(Q,{})}),e.jsx(fe,{title:e.jsx(r,{variant:"h2",textAlign:"center",color:"textSecondary",mb:1,children:"Welcome Back!"}),subtext:e.jsx(o,{variant:"subtitle1",textAlign:"center",color:"textSecondary",mb:1}),subtitle:e.jsx(L,{direction:"row",spacing:1,justifyContent:"center",mt:3,children:e.jsx(c,{component:M,to:"/auth/register",fontWeight:"500",sx:{textDecoration:"none",color:"primary.main"},children:"Create an account"})})})]})})]})})})})})})};export{De as default};
